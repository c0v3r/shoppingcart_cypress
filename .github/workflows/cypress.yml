name: e2e-tests

on: [push]
jobs:
  cypress-run:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout GitCode
        uses: actions/checkout@v4

      - name: Run Cypress Test
        uses: cypress-io/github-action@v6
        with:
          command: npm run cy:qa3
          browser: chrome
      - name: 'Upload Results'
          uses: actions/upload-artifact@v3
          if: failure()
          with:
            name: cypress-results
            path: |
              cypress/screenshots/
              cypress/videos/
              cypress/reports/
      - uses: actions/upload-artifact@v2
        if: always()
        with:
          name: cypress-videos
          path: cypress/videos



